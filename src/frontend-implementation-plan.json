{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Update public catalog upload dialog UX for non-admin role permissions",
  "requirements": [
    {
      "id": "REQ-4",
      "summary": "Update public upload dialog messaging and error handling to align with broader (non-admin) upload permissions and show clear English permission errors.",
      "acceptanceCriteria": [
        "When a permitted non-admin user uploads via `PublicSongUploadDialog`, the dialog completes successfully and shows the success toast.",
        "When a user without permission attempts to upload, the dialog shows a clear permission error in English (no misleading “Admin-only” messaging if the role model is broader).",
        "No changes are made to immutable hook sources (e.g., `frontend/src/hooks/useActor.ts`)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/catalog/PublicSongUploadDialog.tsx",
          "operation": "modify",
          "description": "Update upload failure handling to rely on normalized backend errors and present a clear, role-agnostic permission denial message for public-catalog uploads (avoid any “Admin-only” assumptions). Keep the existing success toast and login-required flow intact. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/utils/backendErrors.ts",
          "operation": "modify",
          "description": "Refine authorization error normalization to avoid unnecessarily implying “Admin access required” in generic permission-denied cases, so public upload surfaces clear, accurate English messaging when roles other than admin are allowed. Verify the component's usage instructions before implementing."
        }
      ]
    }
  ]
}